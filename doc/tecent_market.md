腾讯财经 API 是一项非官方、免费、开箱即用的数据服务，适合个人开发者快速获取实时行情。虽然腾讯没有公开文档支持该服务，但通过分析接口返回的数据，仍然可以轻松使用。

---

### **API 基本使用**

#### **1. API URL**

```
http://qt.gtimg.cn/q=[股票代码]
```

- **参数说明**:
  - `[股票代码]`：股票的市场代码和标识符。
    - `sh600000`：上海证券交易所，600000 是股票代码（如浦发银行）。
    - `sz000001`：深圳证券交易所，000001 是股票代码（如平安银行）。

#### **2. 批量查询**

支持多个股票代码的批量查询，用逗号分隔多个代码：

```
http://qt.gtimg.cn/q=sh600000,sz000001
```

---

### **返回数据格式**

#### **返回样例**:

```text
v_sh600000="1~浦发银行~600000~10.58~10.59~10.57~16543~9596~6952~10.58~10~10.57~20~...";
```

#### **数据解析**:

以 `v_sh600000` 返回的内容为例，各字段以 `~` 分隔：

| 索引 | 字段名称   | 示例值   | 说明                       |
| ---- | ---------- | -------- | -------------------------- |
| 1    | 市场编号   | 1        | 1 表示上交所，0 表示深交所 |
| 2    | 股票名称   | 浦发银行 | 股票的名称                 |
| 3    | 股票代码   | 600000   | 股票代码                   |
| 4    | 当前价格   | 10.58    | 当前实时股价               |
| 5    | 昨日收盘价 | 10.59    | 昨日收盘价                 |
| 6    | 今日开盘价 | 10.57    | 今日开盘价                 |
| 7    | 成交量     | 16543    | 当前成交量（单位：手）     |
| 8    | 外盘       | 9596     | 外盘量                     |
| 9    | 内盘       | 6952     | 内盘量                     |
| ...  | 其他字段   | ...      | 其他数据，包含买卖盘等信息 |

---

### **示例代码**

#### **1. Python 示例**

```python
import requests

# 定义股票代码
stock_code = "sh600000"  # 浦发银行
url = f"http://qt.gtimg.cn/q={stock_code}"

# 发送请求
response = requests.get(url)
if response.status_code == 200:
    data = response.text
    print(data)  # 输出返回数据
else:
    print("请求失败，状态码：", response.status_code)
```

#### **2. 批量查询**

```python
stock_codes = "sh600000,sz000001"  # 查询浦发银行和平安银行
url = f"http://qt.gtimg.cn/q={stock_codes}"

response = requests.get(url)
if response.status_code == 200:
    data = response.text
    print(data)
```

#### **3. 数据解析**

提取关键字段（如名称、当前价格、成交量等）：

```python
data = 'v_sh600000="1~浦发银行~600000~10.58~10.59~10.57~16543~9596~6952~10.58~10~10.57~20~..."'

# 提取股票数据
stock_data = data.split('=')[1].strip('"').split('~')
name = stock_data[1]          # 股票名称
current_price = stock_data[3] # 当前价格
volume = stock_data[6]        # 成交量
print(f"名称: {name}, 当前价格: {current_price}, 成交量: {volume}")
```

---

### **注意事项**

1. **非官方 API**: 腾讯财经 API 并非官方文档支持，稳定性可能无法保证。
2. **数据延迟**: 此接口提供的数据为免费实时数据，但可能有一定延迟。
3. **使用限制**: 频繁调用可能会触发访问限制，建议合理控制访问频率。
4. **合法合规性**: 如用于商业用途，请确保符合相关法律法规。

---

### **适用场景**

1. **个人项目**:
   - 获取股票数据用于个人分析、投资决策等。
2. **开发测试**:
   - 用于测试和开发原型，快速验证功能。
3. **教育和学习**:
   - 学习如何调用和解析 HTTP API 数据。

如需高频实时数据或更高可靠性，建议考虑付费服务或使用证券公司的官方 API。
